<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - AI Powered Currency Detection</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/login_specific.css') }}"> 

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&display=swap" rel="stylesheet">
</head>
<body class="login-page-body"> <svg class="svg-background" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 600" preserveAspectRatio="xMidYMid slice">
        <defs>
          <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#0e0e0e;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#1a1a2e;stop-opacity:1" />
          </linearGradient>
          <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
            <feGaussianBlur stdDeviation="5" result="blur" />
            <feComposite in="SourceGraphic" in2="blur" operator="over" />
          </filter>
          <pattern id="grid" x="0" y="0" width="50" height="50" patternUnits="userSpaceOnUse">
            <path d="M 50 0 L 0 0 0 50" fill="none" stroke="#00ffe715" stroke-width="0.5"/>
          </pattern>
          <pattern id="circuit" x="0" y="0" width="200" height="200" patternUnits="userSpaceOnUse">
            <path d="M10,10 L50,10 L50,50 L90,50 L90,10 L130,10 L130,90 L170,90 L170,130 L130,130 L130,170 L90,170 L90,130 L50,130 L50,170 L10,170 Z" fill="none" stroke="#00ffe730" stroke-width="1.5"/>
            <circle cx="10" cy="10" r="3" fill="#00ffe750"/> <circle cx="50" cy="50" r="3" fill="#00ffe750"/> <circle cx="90" cy="10" r="3" fill="#00ffe750"/> <circle cx="130" cy="90" r="3" fill="#00ffe750"/> <circle cx="170" cy="130" r="3" fill="#00ffe750"/> <circle cx="130" cy="170" r="3" fill="#00ffe750"/> <circle cx="50" cy="170" r="3" fill="#00ffe750"/>
          </pattern>
        </defs>
        <rect width="100%" height="100%" fill="url(#bgGradient)"/>
        <rect width="100%" height="100%" fill="url(#grid)" opacity="0.5"/>
        <rect width="100%" height="100%" fill="url(#circuit)" opacity="0.6"/>
        <g filter="url(#glow)" opacity="0.7">
           <line x1="0" y1="100" x2="1000" y2="100" stroke="#00ffe7" stroke-width="1" opacity="0.2"/> <line x1="0" y1="300" x2="1000" y2="300" stroke="#00ffe7" stroke-width="1" opacity="0.3"/> <line x1="0" y1="500" x2="1000" y2="500" stroke="#00ffe7" stroke-width="1" opacity="0.2"/>
          <line x1="200" y1="0" x2="200" y2="600" stroke="#00ffe7" stroke-width="1" opacity="0.2"/> <line x1="600" y1="0" x2="600" y2="600" stroke="#00ffe7" stroke-width="1" opacity="0.2"/> <line x1="800" y1="0" x2="800" y2="600" stroke="#00ffe7" stroke-width="1" opacity="0.3"/>
        </g>
    </svg>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="flashed-messages-container">
          {% for category, message in messages %}
            <div class="alert alert-{{ category }}" role="alert">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <div class="login-panel fade-in">
        <h1>System Access</h1>
        <div class="subtitle">Authenticate to access the AI Currency Detection System</div>

        <form id="loginForm" method="POST" action="{{ url_for('login') }}">
            <div class="form-group">
                <label for="username">Operator ID</label>
                <input type="text" id="username" name="username" required placeholder="Enter your assigned ID">
            </div>
            <div class="form-group">
                <label for="password">Access Key</label>
                <input type="password" id="password" name="password" required placeholder="Enter secure key">
            </div>
            <button type="submit" class="btn login-button">Authenticate</button> 
        </form>

        <div class="login-options">
            </div>
    </div>

    <footer class="login-footer"> <p>&copy; <script>document.write(new Date().getFullYear())</script> AI-Powered Currency Detection. Secure Access.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const loginPanel = document.querySelector('.login-panel');
            // Check if the fade-in class is present and .visible is not, then add .visible
            if (loginPanel && loginPanel.classList.contains('fade-in') && !loginPanel.classList.contains('visible')) {
                setTimeout(() => {
                    loginPanel.classList.add('visible');
                }, 100); // Small delay for visual effect if desired
            }

            // Mousemove effect for background glow (from your original index.html)
            window.addEventListener('mousemove', (e) => {
                const { clientX, clientY } = e;
                const x = (clientX / window.innerWidth) - 0.5;
                const y = (clientY / window.innerHeight) - 0.5;
                document.documentElement.style.setProperty('--mouse-x', x);
                document.documentElement.style.setProperty('--mouse-y', y);
            });
        });
    </script>
</body>
</html>